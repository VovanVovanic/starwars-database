(this["webpackJsonpstarwars-database"]=this["webpackJsonpstarwars-database"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=n(16),i=n.n(s),o=(n(34),n(28)),l=n(14),u=(n(35),function(){var e=[{to:"/people",label:"People"},{to:"/planets",label:"Planets"},{to:"/starships",label:"Starships"}].map((function(e){var t=e.to,n=e.label;return Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:t,children:n})},n)}));return Object(r.jsxs)("div",{className:"header d-flex",children:[Object(r.jsx)("h3",{children:Object(r.jsx)(l.b,{to:"/",children:"Starwars database"})}),Object(r.jsx)("ul",{className:"d-flex",children:e})]})}),j=n(3),d=n(6),h=n.n(d),b=n(11),p=n(25),m=n(26),f=function(){function e(){var t=this;Object(p.a)(this,e),this._apiBase="https//swapi.dev/api/",this._imageBase="https//starwars-visualguide.com/assets/img/",this.getRes=function(){var e=Object(b.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((r=e.sent).ok){e.next=6;break}throw!0,new Error("An Error appeared. Received ".concat(r.status));case 6:return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPeopleImage=function(e){return"".concat(t._imageBase,"characters/").concat(e,".jpg")},this.getPlanetImage=function(e){return"".concat(t._imageBase,"planets/").concat(e,".jpg")},this.getStarshipImage=function(e){return"".concat(t._imageBase,"starships/").concat(e,".jpg")},this.getAllPeople=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("people");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(b.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("people/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformPerson(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("planets");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(b.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("planets/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformPlanet(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllStarShips=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("starships/");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transformStarship));case 4:case"end":return e.stop()}}),e)}))),this.getStarship=function(){var e=Object(b.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRes("starships/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformStarship(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformPlanet=function(e){return{id:t._getId(e),name:e.name,population:e.population,diameter:e.diameter,rotation_period:e.rotation_period}},this._transformPerson=function(e){return{id:t._getId(e),name:e.name,eye_color:e.eye_color,height:e.height,birth_year:e.birth_year,gender:e.gender}},this._transformStarship=function(e){return{id:t._getId(e),name:e.name,length:e.length,crew:e.crew,cost_in_credits:e.cost_in_credits}}}return Object(m.a)(e,[{key:"_getId",value:function(e){return e.url.match(/\/([0-9]*)\/$/)[1]}}]),e}(),g="CHANGE_RANDOM_PLANET",O="RANDOM_ERROR",A="LIST_ERROR",N="GET_LIST",x="GET_ITEM",E="ON_ITEM_ERROR",U=function(e){(new f).getPlanet(Math.floor(25*Math.random()+2)).then((function(t){e(function(e){return{type:g,planet:e}}(t))})).catch((function(t){e({type:O})}))},v=(n(42),function(e){var t=e.message;return Object(r.jsxs)("div",{className:"error-indicator",children:[Object(r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",alt:"error icon"}),Object(r.jsx)("span",{className:"boom",children:"BOOM!"}),Object(r.jsx)("span",{children:t}),Object(r.jsx)("span",{children:"(but we already sent droids to fix it)"})]})}),W=(n(43),function(){return Object(r.jsx)("div",{className:"lds-css",children:Object(r.jsxs)("div",{className:"lds-double-ring",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})}),S=(n(44),function(e){var t=e.planet,n=t.id,a=t.name,c=t.population,s=t.rotation_period,i=t.diameter,o="https://starwars-visualguide.com/assets/img/planets/".concat(n,".jpg");return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("img",{className:"planet-image",src:o,alt:"planet"}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("h4",{children:["Name: ",a," "]}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Population"}),Object(r.jsx)("span",{children:c})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Rotation Period"}),Object(r.jsx)("span",{children:s})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Diameter"}),Object(r.jsx)("span",{children:i})]})]})]})]})}),w=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.random.planetInfo})),n=Object(j.c)((function(e){return e.random.loading})),c=Object(j.c)((function(e){return e.random.error}));Object(a.useEffect)((function(){var t=setInterval((function(){e(U)}),5e3);return function(){return clearInterval(t)}}),[]);var s=n?Object(r.jsx)(W,{}):"",i=c?Object(r.jsx)(v,{message:"Something gonna wrong"}):"",o=n||c?"":Object(r.jsx)(S,{planet:t});return Object(r.jsxs)("div",{className:"random-planet jumbotron rounded",children:[i,s,o]})},I=(n(45),n(4)),M=function(e){return{type:x,item:e}},y=function(){return{type:E}},T=function(e,t){return function(n){var r=new f;switch(e){case"person":r.getPerson(t).then((function(e){var a=r.getPeopleImage(t),c=Object(I.a)(Object(I.a)({},e),{},{url:a});n(M(c))})).catch((function(){return n(y())}));break;case"planet":r.getPlanet(t).then((function(e){var a=r.getPlanetImage(t),c=Object(I.a)(Object(I.a)({},e),{},{url:a});n(M(c))})).catch((function(){return n(y())}));break;case"starship":r.getStarship(t).then((function(e){var a=r.getStarshipImage(t),c=Object(I.a)(Object(I.a)({},e),{},{url:a});n(M(c))})).catch((function(){return n(y())}))}}},P=function(e){return{type:N,items:e}},k=function(){return{type:A}},B=function(e){return function(t){var n=new f;switch(e){case"people":n.getAllPeople().then((function(e){t(P(e))})).catch((function(){return t(k())}));break;case"planets":n.getAllPlanets().then((function(e){t(P(e))})).catch((function(){return t(k())}));break;case"starships":n.getAllStarShips().then((function(e){t(P(e))})).catch((function(){return t(k())}))}}},C=function(e){var t=e.itemDetails,n=e.field,a=e.label,c=t&&t[n];return Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:a}),Object(r.jsx)("span",{children:c})]})},R=(n(46),function(e){var t=e.Id,n=e.getItemData,s=e.children,i=Object(j.c)((function(e){return e.item.item})),o=Object(j.c)((function(e){return e.item.item.url})),l=Object(j.c)((function(e){return e.item.loading})),u=Object(j.c)((function(e){return e.item.error}));Object(a.useEffect)((function(){n()}),[t,n]);var d=l&&Object(r.jsx)(W,{}),h=u&&Object(r.jsx)(v,{message:"Sorry. Our network is broken"});return Object(r.jsx)("div",{className:"person-details card",children:u?h:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("img",{className:"person-image",src:o,alt:"person-img"}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h4",{children:i.name}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[c.a.Children.map(s,(function(e){return c.a.cloneElement(e,{itemDetails:i})})),d]})]})]})})}),_=(n(47),function(e){var t=e.onChangeItem,n=e.getData,c=e.children,s=Object(j.c)((function(e){return e.list.items})),i=Object(j.c)((function(e){return e.list.loading})),o=Object(j.c)((function(e){return e.list.error}));Object(a.useEffect)((function(){n()}),[]);var l=s.map((function(e){var n=c(e);return Object(r.jsx)("li",{className:"list-group-item",onClick:function(){return t(e.id)},children:n},e.name)})),u=i&&Object(r.jsx)(W,{});return Object(r.jsxs)("ul",{className:"item-list list-group",children:[o?Object(r.jsx)(v,{message:"we can get item list for some reasons"}):l,u]})}),V=function(e){var t=e.left,n=e.right;return Object(r.jsxs)("div",{className:"row mb2",children:[Object(r.jsx)("div",{className:"col-md-6",children:t}),Object(r.jsx)("div",{className:"col-md-6",children:n})]})},F=function(e){var t=e.onChangeItem,n=e.id,a=Object(j.b)(),c=Object(r.jsx)(_,{onChangeItem:t,getData:function(){a(B("planets"))},children:function(e){return Object(r.jsx)("span",{children:"".concat(e.name,", (diameter: ").concat(e.diameter," km, population: ").concat(e.population,")")})}}),s=Object(r.jsxs)(R,{Id:n,getItemData:function(){a(T("planet",n))},children:[Object(r.jsx)(C,{field:"diameter",label:"Diameter:"}),Object(r.jsx)(C,{field:"rotation_period",label:"Rotation Period:"}),Object(r.jsx)(C,{field:"population",label:"Population:"})]});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{style:{textAlign:"center",marginBottom:"50px"},children:"Planets"}),Object(r.jsx)(V,{left:c,right:s})]})},D=function(e){var t=e.onChangeItem,n=e.id,a=Object(j.b)(),c=Object(r.jsx)(_,{onChangeItem:t,getData:function(){a(B("people"))},children:function(e){return"".concat(e.name,", (date of birth: ").concat(e.birth_year,", gender: ").concat(e.gender,")")}}),s=Object(r.jsxs)(R,{Id:n,getItemData:function(){a(T("person",n))},children:[Object(r.jsx)(C,{field:"eye_color",label:"Eye color:"}),Object(r.jsx)(C,{field:"gender",label:"Gender:"}),Object(r.jsx)(C,{field:"height",label:"Height:"}),Object(r.jsx)(C,{field:"birth_year",label:"Birth Year:"})]});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{style:{textAlign:"center",marginBottom:"50px"},children:"Persons"}),Object(r.jsx)(V,{left:c,right:s})]})},L=function(e){var t=e.onChangeItem,n=e.id,a=Object(j.b)(),c=Object(r.jsx)(_,{onChangeItem:t,getData:function(){a(B("starships"))},children:function(e){return"".concat(e.name,", (lenght: ").concat(e.length," m. crew: ").concat(e.crew," person)")}}),s=Object(r.jsxs)(R,{Id:n,getItemData:function(){a(T("starship",n))},children:[Object(r.jsx)(C,{field:"crew",label:"Crew:"}),Object(r.jsx)(C,{field:"length",label:"Length: "}),Object(r.jsx)(C,{field:"cost_in_credits",label:"Price:"})]});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{style:{textAlign:"center",marginBottom:"50px"},children:"Starships"}),Object(r.jsx)(V,{left:c,right:s})]})},G=n(5),Q=function(){var e=Object(a.useState)(2),t=Object(o.a)(e,2),n=t[0],c=t[1],s=function(e){c(e)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(u,{}),Object(r.jsx)(w,{}),Object(r.jsx)(G.a,{path:"/people/",render:function(){return Object(r.jsx)(D,{onChangeItem:s,id:n})}}),Object(r.jsx)(G.a,{path:"/starships",render:function(){return Object(r.jsx)(L,{onChangeItem:s,id:n})}}),Object(r.jsx)(G.a,{path:"/planets",render:function(){return Object(r.jsx)(F,{onChangeItem:s,id:n})}}),Object(r.jsx)(G.a,{path:"/",exact:!0,render:function(){return Object(r.jsx)("h2",{style:{textAlign:"center",marginTop:"100px"},children:"Welcome to star wars data base "})}})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},K=n(12),Z=n(27),X={item:{},loading:!0,error:!1},J={items:[],loading:!0,error:!1},z={planetInfo:{id:0,name:"",population:"",rotation_period:"",diameter:0},loading:!0,error:!1},q=Object(K.c)({random:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(I.a)(Object(I.a)({},e),{},{planetInfo:t.planet,loading:!1});case O:return Object(I.a)(Object(I.a)({},e),{},{error:!0,loading:!1});default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(I.a)(Object(I.a)({},e),{},{loading:!1,error:!1,items:t.items});case A:return Object(I.a)(Object(I.a)({},e),{},{error:!0,loading:!1});default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(I.a)(Object(I.a)({},e),{},{loading:!1,item:t.item,error:!1});case E:return Object(I.a)(Object(I.a)({},e),{},{loading:!1,error:!0});default:return e}}}),Y=Object(K.d)(q,Object(K.a)(Z.a));i.a.render(Object(r.jsx)(l.a,{children:Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(j.a,{store:Y,children:Object(r.jsx)(Q,{})})})}),document.getElementById("root")),H()}},[[48,1,2]]]);
//# sourceMappingURL=main.5c9825a0.chunk.js.map